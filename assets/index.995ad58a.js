import{v as E,x as b,r as w,o as g,h as $,J as e,y as C,M as T,i as u,_ as K,Q as B,z as Q,D as o,Y as M,E as A,a3 as R,a9 as j,G as q,w as O,H as P,ab as U,O as W,a0 as z,a1 as F,$ as X,aa as Z}from"./vendor.66989adf.js";import{a as ee,s as te,_ as H,h as ae,b as se,c as ne}from"./index.ecaf6c17.js";const oe={key:0,class:"on_right"},le={class:"o_tishi color_cheng"},re={class:"yuan color_cheng"},ce=B(" ID"),ue=e("i",{class:"on_right itb rw__jt"},null,-1),ie={class:"color_hei"},de={props:{data:Object},setup(d){const n=d,S=E(),c=b(()=>parseInt(n.data.amount).toFixed(2)),D=b(()=>parseInt(n.data.brokerage).toFixed(2)),m=b(()=>n.data.type),_=b(()=>n.data.id),h=b(()=>n.data.transaction_no),y=b(()=>n.data.acceptExpireTime||""),v=b(()=>n.data.state),k=b(()=>{if(!!y.value)return new Date(y.value).getTime()-new Date().getTime()}),I=()=>{let r;v.value!==5?r="myHistoryTaskDetail":r="myTaskDetail",S.push({name:r,params:{type:m.value,id:_.value,transactionNo:h.value}})};return(r,L)=>{const l=w("van-count-down");return g(),$("dl",{onClick:I},[e("dt",null,[C(k)?(g(),$("div",oe,[e("p",le,T(r.$t("task.received")),1),e("p",re,[u(l,{class:"count2",time:C(k)},null,8,["time"])])])):K("",!0),e("h2",null,[ce,e("em",null,T(C(h)),1)])]),e("dd",null,[ue,e("p",null,[e("span",null,[B(T(r.$t("account.amount")),1),e("em",null,"BRL "+T(C(c)),1)]),e("span",null,[B(T(r.$t("task.reward")),1),e("em",ie,"BRL "+T(C(D)),1)])])])])}}},_e={class:"rwlist b_linex_dl_w rwlist_wode"},ve={props:{type:String,status:String,searchData:Object},setup(d){const n=d,S=Q(),c=o([]),D=6,m=o(1),_=o(""),h=o(!1),y=o(!1),v=o(!1),k=a=>{for(const[i,x]of te)if(a===x)return i},I=async()=>{v.value&&(v.value=!1);const a=await ee({pageNumber:m.value,pageSize:D,playerId:S.getters.id,confirmState:k(n.status),keyword:n.searchData.keyword,amountArea:n.searchData.amountArea||"",startTime:n.searchData.startTime||"",endTime:n.searchData.endTime||""});m.value+=1,_.value=a.totalRow,a.list.forEach(i=>{i.type="pay"}),c.value=c.value.concat(a.list),c.value.length>=_.value&&(y.value=!0),h.value=!1},r=()=>{I()},L=()=>{c.value=[],m.value=1,y.value=!1,h.value=!0,r()};M([()=>n.type,()=>n.status,()=>n.searchData],([a,i])=>{!a||!i||a==="pay"&&L()});const l=a=>{console.log(a)};return(a,i)=>{const x=w("SortList"),s=w("van-list"),t=w("van-pull-refresh");return g(),$(R,null,[u(x,{onChangeSort:l}),e("div",_e,[u(t,{modelValue:v.value,"onUpdate:modelValue":i[1]||(i[1]=p=>v.value=p),onRefresh:L},{default:A(()=>[u(s,{loading:h.value,"onUpdate:loading":i[0]||(i[0]=p=>h.value=p),finished:y.value,"finished-text":a.$t("msg.noMore"),onLoad:r},{default:A(()=>[(g(!0),$(R,null,j(c.value,(p,V)=>(g(),$("div",{key:p.id},[u(de,{data:p},null,8,["data"])]))),128))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue"])])],64)}}};const Y=d=>(z("data-v-668a484e"),d=d(),F(),d),pe={class:"kk_issearch"},me={class:"kk_search"},he={class:"search_top"},fe={class:"search_top_left"},ge={class:"svg_container"},ye=["placeholder"],ke=Y(()=>e("div",{class:"line"},null,-1)),$e={class:"kk_xieyi_king"},we={class:"s_sousox b_linex_dl_w"},Se=Y(()=>e("span",{class:"zhx"},"-",-1)),xe={emits:["search"],setup(d,{emit:n}){const S=o(""),c=o(!1),D=new Date(2022,1,1),m=new Date,_=o(""),h=o(""),y=o(""),v=o(null),k=o(null),I=b(()=>!v.value||!k.value?"":`${v.value}~${k.value}`),r=s=>`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}`,L=s=>{const[t,p]=s;c.value=!1;const V=r(t),N=r(p);S.value=`${V} ~ ${N}`,h.value=V,y.value=N},l=()=>{x(),n("search",{keyword:_.value,startTime:h.value,endTime:y.value,amountArea:I.value})},a=o(!1),i=()=>{a.value=!0},x=()=>{a.value=!1};return(s,t)=>{const p=w("SvgIcon"),V=w("van-cell"),N=w("van-calendar"),J=w("van-field");return g(),$(R,null,[e("div",{class:"ent_wrapper",onClick:i},[u(p,{class:"ent_svg",name:"i_sosuo",width:"1.28rem",height:"1.28rem"})]),(g(),q(W,{to:"body"},[O(e("div",pe,[e("div",{class:"kk_xiyi_br",onClick:t[0]||(t[0]=f=>x())}),e("div",me,[e("div",he,[e("div",fe,[e("div",ge,[u(p,{class:"search_icon",name:"iclose2",width:"1rem",height:"1rem",onClick:t[1]||(t[1]=f=>x())})]),O(e("input",{type:"text",placeholder:s.$t("task.enterKeyword"),class:"i_inputx","onUpdate:modelValue":t[2]||(t[2]=f=>_.value=f)},null,8,ye),[[U,_.value]])]),u(p,{class:"ent_svg",name:"i_sosuo",width:"1.28rem",height:"1.28rem",onClick:t[3]||(t[3]=f=>l())})]),ke,e("div",$e,[e("div",we,[u(V,{title:`${s.$t("task.dateRange")}:`,value:S.value||s.$t("task.pleaseSelect"),onClick:t[4]||(t[4]=f=>c.value=!0)},null,8,["title","value"]),u(N,{show:c.value,"onUpdate:show":t[5]||(t[5]=f=>c.value=f),type:"range","min-date":C(D),"max-date":C(m),"show-confirm":!1,onConfirm:L},null,8,["show","min-date","max-date"]),u(J,{center:"",clearable:"",label:`${s.$t("task.amountRange")}:`,placeholder:s.$t("task.enterAmountRange")},{input:A(()=>[O(e("input",{type:"text",class:"from_input w50","onUpdate:modelValue":t[6]||(t[6]=f=>v.value=f)},null,512),[[U,v.value,void 0,{number:!0}]]),Se,O(e("input",{type:"text",class:"from_input w50","onUpdate:modelValue":t[7]||(t[7]=f=>k.value=f)},null,512),[[U,k.value,void 0,{number:!0}]])]),_:1},8,["label","placeholder"])])]),e("button",{class:"ibtn btn_cheng",onClick:t[8]||(t[8]=f=>l())},T(s.$t("task.searchBlank")),1)])],512),[[P,a.value]])]))],64)}}};var be=H(xe,[["__scopeId","data-v-668a484e"]]);const G=d=>(z("data-v-4ca70bbc"),d=d(),F(),d),Te={class:"t_nav text_left"},De={class:"t_nav_title"},Ce=["value","selected"],Ie={class:"t_nav_r"},Le=G(()=>e("div",{class:"t_nav_br"},null,-1)),Re={class:"rw_nav_list w_pjf tabs"},Ve=["onClick","id"],Ne=G(()=>e("span",{class:"slider",id:"order_slider"},null,-1)),Ae={setup(d){X(l=>({"10b80477":C(v)+"px"}));const n=E(),S=Z(),c=o(se),D=o(ne),m=o(S.params.type),_=o(S.params.status),h=D.value.findIndex(l=>l.value===_.value),{activeIndex:y,sliderLeft:v}=ae.useSlider({selector:"[id^='_order_tab_']",sliderId:"order_slider",index:h}),k=(l,a)=>{y.value=l,_.value=a},I=l=>{const a=l.target.value;m.value=c.value[a].value},r=o({}),L=l=>{r.value=l};return M([m,_],([l,a])=>{n.push({name:"order",params:{type:l,status:a}})}),(l,a)=>{const i=w("SvgNotify"),x=w("router-link");return g(),$(R,null,[e("div",Te,[e("div",De,[e("select",{name:"",id:"",class:"t_select",onChange:I},[(g(!0),$(R,null,j(c.value,(s,t)=>(g(),$("option",{key:s.value,value:t,selected:m.value===s.value},T(s.name),9,Ce))),128))],32)]),e("div",Ie,[u(x,{to:"/my-notice"},{default:A(()=>[u(i,{color:"black"})]),_:1}),u(be,{onSearch:L})])]),Le,e("div",Re,[(g(!0),$(R,null,j(D.value,(s,t)=>(g(),$("a",{key:s.value,onClick:p=>k(t,s.value),id:`_order_tab_${t}`},T(s.name),9,Ve))),128)),Ne]),u(ve,{type:m.value,status:_.value,searchData:r.value},null,8,["type","status","searchData"])],64)}}};var je=H(Ae,[["__scopeId","data-v-4ca70bbc"]]);export{je as default};
