import{v as Y,a0 as Z,u as ee,w as te,x as i,r as g,o as d,q as _,s as n,t as A,z as e,A as o,E as D,Q as m,K as T,a8 as B,y as I,M as U,F as se,G as ae,H as oe,J as ne,T as p,a5 as j}from"./vendor.a9cdd417.js";import{u as le,_ as ie,a as ce,D as ue,b as re}from"./useDataInit.d5b07cd6.js";import{_ as de,s as _e}from"./index.d02650e4.js";import{u as me}from"./uploadImg.49f8e525.js";const F=v=>(oe("data-v-196cc254"),v=v(),ne(),v),pe={class:"idetail"},ve=F(()=>e("div",{class:"t_nav_br"},null,-1)),he={class:"xgrw_list"},fe={class:"des_box"},ge={class:"xgrw_kin"},ke={class:"xgrw_list"},be={class:"des_box"},ye={class:"xgrw_kin"},Te={class:"label"},Ie={class:"content"},we=["src"],xe=["placeholder"],Ce=["placeholder"],$e={class:"ixtijiao clear"},Ne={class:"tan_k_w"},Se={class:"tan_k bg_bai"},Ve={class:"tan_k_in"},Ae={class:"hb_list b_linex_li_w"},De=["onClick"],Be=["src"],Ue={class:"color_huise_t"},je=F(()=>e("div",{class:"h40"},null,-1)),Fe={setup(v){const w=Y(),L=Z(),R=ee(),l=te(),{uploadImg:x}=me("voucher"),{id:E,transactionNo:M}=L.params,{amount:Le,brokerage:Re,payeeAccountNo:Ee,payeeName:Me,payTypeName:Oe,payType:qe,isAccept:ze,expireTime:Ge,createTime:He,isExpired:Je,restTime:Ke,detailInfo:O,detailDescribe:q,fetchOrderTaskInfo:z}=le();z();const G=async t=>{t instanceof Array?t.forEach(c=>{x(c)}):x(t)},k=i(!1),C=()=>{k.value=!0},$=()=>{k.value=!1},N=i(w.getters.payAccountList),u=i(N.value.find(t=>t.enable)),H=i(u.value.id),h=i(""),r=i(!0),f=i(""),b=i([]),y=i(""),J=t=>{u.value=t,$()},K=t=>t.length===1?t[0].imgUrl:t.reduce((a,c,S)=>`${a.imgUrl||a};${c.imgUrl}`),Q=async()=>{await _e({playerId:w.getters.id,id:E,transactionNo:M,outTransactionNo:h.value,playerAccountId:H.value,voucherImg:y.value,is_ok:r.value,failDesc:f.value})},P=()=>{if(y.value=K(b.value),!y.value){p.fail(l.t("task.upload"));return}if(!h.value){p.fail(l.t("balance.enterTradeNum"));return}if(!r.value&&!f.value){p.fail(l.t("task.enterFailReason"));return}j.alert({title:l.t("msg.dialogTitle"),message:l.t("task.confirmSubmitTask"),confirmButtonColor:"#000",showCancelButton:!0}).then(async()=>{try{await Q(),p.success(l.t("task.submitTaskSuccess")),R.push({name:"task"})}catch{p.fail(l.t("task.submitTaskFail"))}}).catch(()=>{})},W=()=>{j.alert({title:l.t("msg.dialogTitle"),message:l.t("task.limitSubmit"),confirmButtonColor:"#000",showCancelButton:!0}).then(()=>{}).catch(()=>{})};return(t,a)=>{const c=g("svg-icon"),S=g("van-uploader"),V=g("van-radio"),X=g("van-radio-group");return d(),_("div",pe,[n(ie,{title:"\u6211\u7684\u4EFB\u52A1\u8BE6\u60C5"}),ve,n(ce,{data:A(O)},null,8,["data"]),n(ue,{data:A(q),open:!1},null,8,["data"]),n(re,{open:!1}),e("div",he,[e("h2",null,[e("div",fe,[n(c,{name:"rw_i_3"}),e("span",null,o(t.$t("task.upload")),1)])]),e("div",ge,[n(S,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=s=>b.value=s),multiple:"","max-count":3,"after-read":G},null,8,["modelValue"])])]),e("div",ke,[e("h2",null,[e("div",be,[n(c,{name:"rw_i_3"}),e("span",null,o(t.$t("task.submitInfo")),1)])]),e("div",ye,[e("div",{class:"imgFieldBox",onClick:C},[e("div",Te,o(t.$t("my.paymentAccount"))+":",1),e("div",Ie,[u.value.img?(d(),_("img",{key:0,src:u.value.img,class:"i_tb icon_dq icon_szhb"},null,8,we)):D("",!0),m(" "+o(u.value.accountName),1)])]),T(e("input",{type:"text",placeholder:t.$t("balance.enterTradeNum"),class:"ixtijiao_input","onUpdate:modelValue":a[1]||(a[1]=s=>h.value=s)},null,8,xe),[[B,h.value]]),n(X,{class:"radio_group",modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=s=>r.value=s),direction:"horizontal"},{default:I(()=>[n(V,{name:!0},{default:I(()=>[m(o(t.$t("task.success")),1)]),_:1}),n(V,{name:!1},{default:I(()=>[m(o(t.$t("task.fail")),1)]),_:1})]),_:1},8,["modelValue"]),T(e("input",{type:"text",placeholder:t.$t("task.enterFailReason"),class:"ixtijiao_input","onUpdate:modelValue":a[3]||(a[3]=s=>f.value=s)},null,8,Ce),[[U,!r.value],[B,f.value]]),e("div",$e,[e("button",{class:"ibtn btn_cheng",onClick:P},o(t.$t("task.submitTask")),1),e("button",{class:"ibtn btn_moren",onClick:W},o(t.$t("task.cancelTask")),1)])])]),T(e("div",Ne,[e("div",Se,[e("h1",null,[e("i",{class:"i_close",onClick:$}),m(o(t.$t("my.paymentAccount")),1)]),e("div",Ve,[e("div",Ae,[e("ul",null,[(d(!0),_(se,null,ae(N.value,(s,Qe)=>(d(),_("li",{onClick:Pe=>J(s)},[s.img?(d(),_("img",{key:0,src:s.img,class:"i_tb icon_dq"},null,8,Be)):D("",!0),m(o(s.cpf),1),e("span",Ue,o(s.accountName),1)],8,De))),256))])])])]),e("div",{class:"all_br",onClick:C})],512),[[U,k.value]]),je])}}};var et=de(Fe,[["__scopeId","data-v-196cc254"]]);export{et as default};
