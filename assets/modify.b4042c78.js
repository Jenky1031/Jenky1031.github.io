import{z as T,v as x,D as i,x as f,r as b,g as B,o as g,h as y,J as e,i as k,M as s,w as v,ab as h,a2 as C,a0 as M,a1 as N,T as $}from"./vendor.66989adf.js";import{_ as P,h as R,v as E}from"./index.ecaf6c17.js";const a=d=>(M("data-v-238216ce"),d=d(),N(),d),q={class:"user_page"},z={class:"t_nav"},F={class:"t_nav_title"},J=a(()=>e("div",{class:"t_nav_br"},null,-1)),L={class:"user_gr"},G={class:"jdtx"},H={class:"this"},K=a(()=>e("dt",null,[e("span",null,"1")],-1)),O={class:"this"},Q=a(()=>e("dt",null,[e("span",null,"2")],-1)),W=a(()=>e("dt",null,[e("span",null,"3")],-1)),X=a(()=>e("dt",null,[e("span",null,"4")],-1)),Y=a(()=>e("div",{class:"line"},null,-1)),Z={class:"list-block sqjl_list"},ee={class:"item-content item-link"},te={class:"item-inner border-bottom-1px"},se={class:"item-title label"},le={class:"item-input myUpload"},oe={class:"item-content"},ae={class:"item-inner border-bottom-1px"},ne={class:"item-title label"},ie={class:"item-input"},de=["placeholder"],ce={class:"item-content"},re={class:"item-inner border-bottom-1px"},ue={class:"item-title label"},_e={class:"item-input"},ve=["placeholder"],pe={class:"item-content"},me={class:"item-inner border-bottom-1px"},he={class:"item-title label"},fe={class:"item-input"},be=["placeholder"],ge={class:"itbnw"},ye=["onClick"],ke={setup(d){const p=T(),I=x(),m=i(!1),{uploadImg:U}=R.useUploadImg("avatar"),n=f(()=>p.getters.userInfo),w=f(()=>p.getters.defaultAvatarUrl),c=i(""),r=i(""),u=i(""),_=i([]);c.value=n.value.nickname||"",r.value=n.value.email||"",u.value=n.value.phone||"",_.value.push({url:n.value.avatarUrl||w.value});const V=async t=>{U(t)},S=async()=>{m.value=!0;try{await E({playerId:n.value.id,nickname:c.value,avatarUrl:_.value[0].imgUrl,phone:u.value,email:r.value}),$.success("\u63D0\u4EA4\u4E2A\u4EBA\u4FE1\u606F\u6210\u529F"),await p.dispatch("user/getPlayerInfo"),I.replace({name:"profile"})}catch{$.fail("\u63D0\u4EA4\u4E2A\u4EBA\u4FE1\u606F\u5931\u8D25")}m.value=!1};return(t,l)=>{const j=b("back"),A=b("van-uploader"),D=B("loading");return g(),y("div",q,[e("div",z,[k(j,{color:"black"}),e("div",F,s(t.$t("profile.modifyTitle")),1)]),J,v((g(),y("div",null,[e("div",L,[e("div",G,[e("dl",H,[K,e("dd",null,s(t.$t("login.register")),1)]),e("dl",O,[Q,e("dd",null,s(t.$t("profile.perfectInformation")),1)]),e("dl",null,[W,e("dd",null,s(t.$t("profile.verify")),1)]),e("dl",null,[X,e("dd",null,s(t.$t("profile.complete")),1)])]),Y,e("div",Z,[e("ul",null,[e("li",null,[e("div",ee,[e("div",te,[e("div",se,s(t.$t("profile.avatar")),1),e("div",le,[k(A,{class:"avatar",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=o=>_.value=o),"max-count":1,"after-read":V},null,8,["modelValue"])])])])]),e("li",null,[e("div",oe,[e("div",ae,[e("div",ne,s(t.$t("profile.nickname")),1),e("div",ie,[v(e("input",{type:"text",placeholder:t.$t("msg.enterNickname"),class:"i-input","onUpdate:modelValue":l[1]||(l[1]=o=>c.value=o)},null,8,de),[[h,c.value]])])])])]),e("li",null,[e("div",ce,[e("div",re,[e("div",ue,s(t.$t("profile.email")),1),e("div",_e,[v(e("input",{type:"text",class:"i-input",placeholder:t.$t("msg.enterEmail"),"onUpdate:modelValue":l[2]||(l[2]=o=>r.value=o)},null,8,ve),[[h,r.value]])])])])]),e("li",null,[e("div",pe,[e("div",me,[e("div",he,s(t.$t("profile.phone")),1),e("div",fe,[v(e("input",{type:"text",placeholder:t.$t("msg.enterPhone"),class:"i-input","onUpdate:modelValue":l[3]||(l[3]=o=>u.value=o)},null,8,be),[[h,u.value]])])])])])])])]),e("div",ge,[e("button",{class:"ibtn btn_cheng",onClick:C(S,["prevent"])},s(t.$t("other.submitForReview")),9,ye)])])),[[D,m.value]])])}}};var Ue=P(ke,[["__scopeId","data-v-238216ce"]]);export{Ue as default};
