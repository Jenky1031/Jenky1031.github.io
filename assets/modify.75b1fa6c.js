import{v as S,u as j,p as h,x as _,r as f,o as A,q as P,z as e,s as b,A as s,K as v,a8 as m,V as T,H as x,J as B,T as y}from"./vendor.a9cdd417.js";import{_ as C,d as N}from"./index.d02650e4.js";import{u as R}from"./uploadImg.49f8e525.js";const a=i=>(x("data-v-e5c625e8"),i=i(),B(),i),q={class:"user_page"},D={class:"t_nav"},E={class:"t_nav_title"},M=a(()=>e("div",{class:"t_nav_br"},null,-1)),z={class:"user_gr"},F={class:"jdtx"},H={class:"this"},J=a(()=>e("dt",null,[e("span",null,"1")],-1)),K={class:"this"},L=a(()=>e("dt",null,[e("span",null,"2")],-1)),G=a(()=>e("dt",null,[e("span",null,"3")],-1)),O=a(()=>e("dt",null,[e("span",null,"4")],-1)),Q=a(()=>e("div",{class:"line"},null,-1)),W={class:"list-block sqjl_list"},X={class:"item-content item-link"},Y={class:"item-inner border-bottom-1px"},Z={class:"item-title label"},ee={class:"item-input myUpload"},te={class:"item-content"},se={class:"item-inner border-bottom-1px"},le={class:"item-title label"},oe={class:"item-input"},ae=["placeholder"],ne={class:"item-content"},ie={class:"item-inner border-bottom-1px"},de={class:"item-title label"},ce={class:"item-input"},re=["placeholder"],ue={class:"item-content"},_e={class:"item-inner border-bottom-1px"},pe={class:"item-title label"},ve={class:"item-input"},me=["placeholder"],he={class:"itbnw"},fe=["onClick"],be={setup(i){const p=S(),g=j(),{uploadImg:k}=R("avatar"),n=h(()=>p.getters.userInfo),I=h(()=>p.getters.defaultAvatarUrl),d=_(""),c=_(""),r=_(""),u=_([]);d.value=n.value.nickname||"",c.value=n.value.email||"",r.value=n.value.phone||"",u.value.push({url:n.value.avatarUrl||I.value});const $=async t=>{k(t)},U=async()=>{try{await N({playerId:n.value.id,nickname:d.value,avatarUrl:u.value[0].imgUrl,phone:r.value,email:c.value}),y.success("\u63D0\u4EA4\u4E2A\u4EBA\u4FE1\u606F\u6210\u529F"),p.dispatch("user/getPlayerInfo"),g.push({name:"myProfile"})}catch{y.fail("\u63D0\u4EA4\u4E2A\u4EBA\u4FE1\u606F\u5931\u8D25")}};return(t,l)=>{const V=f("back"),w=f("van-uploader");return A(),P("div",q,[e("div",D,[b(V,{color:"black"}),e("div",E,s(t.$t("profile.modifyTitle")),1)]),M,e("div",z,[e("div",F,[e("dl",H,[J,e("dd",null,s(t.$t("login.register")),1)]),e("dl",K,[L,e("dd",null,s(t.$t("profile.perfectInformation")),1)]),e("dl",null,[G,e("dd",null,s(t.$t("profile.verify")),1)]),e("dl",null,[O,e("dd",null,s(t.$t("profile.complete")),1)])]),Q,e("div",W,[e("ul",null,[e("li",null,[e("div",X,[e("div",Y,[e("div",Z,s(t.$t("profile.avatar")),1),e("div",ee,[b(w,{class:"avatar",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=o=>u.value=o),"max-count":1,"after-read":$},null,8,["modelValue"])])])])]),e("li",null,[e("div",te,[e("div",se,[e("div",le,s(t.$t("profile.nickname")),1),e("div",oe,[v(e("input",{type:"text",placeholder:t.$t("msg.enterNickname"),class:"i-input","onUpdate:modelValue":l[1]||(l[1]=o=>d.value=o)},null,8,ae),[[m,d.value]])])])])]),e("li",null,[e("div",ne,[e("div",ie,[e("div",de,s(t.$t("profile.email")),1),e("div",ce,[v(e("input",{type:"text",class:"i-input",placeholder:t.$t("msg.enterEmail"),"onUpdate:modelValue":l[2]||(l[2]=o=>c.value=o)},null,8,re),[[m,c.value]])])])])]),e("li",null,[e("div",ue,[e("div",_e,[e("div",pe,s(t.$t("profile.phone")),1),e("div",ve,[v(e("input",{type:"text",placeholder:t.$t("msg.enterPhone"),class:"i-input","onUpdate:modelValue":l[3]||(l[3]=o=>r.value=o)},null,8,me),[[m,r.value]])])])])])])])]),e("div",he,[e("button",{class:"ibtn btn_cheng",onClick:T(U,["prevent"])},s(t.$t("other.submitForReview")),9,fe)])])}}};var Ie=C(be,[["__scopeId","data-v-e5c625e8"]]);export{Ie as default};
